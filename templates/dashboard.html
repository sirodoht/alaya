{% extends "layout.html" %}

{% block content %}
<section>
    <div class="books-section">
        <div class="books-header">
            <h2>Books</h2>
            {% if is_authenticated %}
            <a href="/books/new" class="btn-primary btn-small">Add Book</a>
            {% endif %}
        </div>

        {% if books.is_empty() %}
        <div class="empty-state">
            <p>No books have been added yet.</p>
        </div>
        {% else %}
        <div class="books-list">
            {% for book in books %}
            <a href="/books/{{ book.id }}" class="book-item">
                <div class="book-info">
                    <span class="book-title">{{ book.title }}</span>
                    {% if let Some(author) = book.author %}
                    <span class="book-author">by {{ author }}</span>
                    {% endif %}
                </div>
                <div class="book-meta">
                    {% if let Some(year) = book.publication_year %}
                    <span class="book-year">{{ year }}</span>
                    {% endif %}
                    {% if let Some(isbn) = book.isbn %}
                    <span class="book-isbn">ISBN: {{ isbn }}</span>
                    {% endif %}
                </div>
            </a>
            {% endfor %}
        </div>
        {% endif %}
    </div>
</section>
{% endblock %}
